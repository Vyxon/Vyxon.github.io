import { Container } from "../components/container";
import { IWalletMeta } from "../components/param";
import { EventEmitter } from "../helper/event-emitter";
import { IWalletPaymentSuccessful, IWalletUnavailable, IWalletUpdate } from "./interfaces";
import { ApiInternal } from "../api/api-internal";
import { IWalletService } from "./wallet-service";
/**
 * List of available event's name in the wallet button lifecycle
 * @const EVENT
 *
 * @type {object}
 * @param {string} UNAVAILABLE=unavailable
 * @param {string} UPDATE=update
 * @param {string} PAYMENT_SUCCESSFUL=paymentSuccessful
 * @param {string} PAYMENT_ERROR=paymentError
 */
export declare const EVENT: {
    UNAVAILABLE: string;
    UPDATE: string;
    PAYMENT_SUCCESSFUL: string;
    PAYMENT_ERROR: string;
    PAYMENT_IN_REVIEW: string;
};
/**
 * Interface of data from events.
 * @interface IEventData
 *
 * @param {string} event
 * @param {void | IWalletPaymentSuccessful | IWalletUpdate | IWalletUnavailable | any} data
 * */
export interface IEventData {
    event: string;
    data: void | IWalletPaymentSuccessful | IWalletUpdate | IWalletUnavailable | any;
}
/**
 * Interface of data from a successful payment result.
 * @interface IWalletPaymentSuccessful
 *
 * @param {string} id
 * @param {number} amount
 * @param {string} currency
 * @param {string} status
 * @param {string} [payer_name]
 * @param {string} [payer_email]
 * @param {string} [payer_phone]
 * */
/**
 * Interface of data from an update event.
 * @interface IWalletUpdate
 *
 * @param {string} [wallet_response_code]
 * @param {string} [wallet_session_id]
 * @param {object} [payment_source]
 * @param {string} [payment_source.wallet_payment_method_id]
 * @param {string} [payment_source.card_number_last4]
 * @param {string} [payment_source.card_scheme]
 * @param {object} [wallet_loyalty_account]
 * @param {string} [wallet_loyalty_account.id]
 * @param {string} [wallet_loyalty_account.barcode]
 * @param {object} [shipping]
 * @param {string} [shipping.address_line1]
 * @param {string} [shipping.address_line2]
 * @param {string} [shipping.address_postcode]
 * @param {string} [shipping.address_city]
 * @param {string} [shipping.address_state]
 * @param {string} [shipping.address_country]
 * @param {string} [shipping.address_company]
 * @param {string} [shipping.post_office_box_number]
 * @param {string} [shipping.wallet_address_id]
 * @param {string} [shipping.wallet_address_name]
 * @param {string} [shipping.wallet_address_created_timestamp]
 * @param {string} [shipping.wallet_address_updated_timestamp]
 * */
/**
 * Interface of data from an unavailable event.
 * @interface IWalletUnavailable
 *
 * @param {string} [wallet] For gateways with more than one wallet button available (e.g: MPGS with ApplePay and GooglePay). Possible values for wallet are 'apple' or 'google'.
 * */
/**
 * Interface of data for wallet button `update` call.
 * @interface IWalletUpdateData
 *
 * @param {boolean} success
 * */
export interface IWalletUpdateData {
    success: boolean;
}
/**
 * Interface of data used by the wallet checkout and payment proccess.
 * @interface IWalletMeta
 *
 * @type {object}
 * @param {string} [amount_label] Label shown next to the total amount to be paid. Required for [Stripe, ApplePay, GooglePay]. N/A for [FlyPay, PayPal].
 * @param {string} [country] Country of the user. 2 letter ISO code format. Required for [Stripe, ApplePay, GooglePay]. N/A for [FlyPay, PayPal].
 * @param {string} [pay_later] Used to enable Pay Later feature in PayPal Smart Checkout WalletButton integration when available. Optional for [PayPal]. N/A for other wallets.
 * @param {boolean} [show_billing_address] Used to hide/show the billing address on ApplePay and GooglePay popups. Default value is false. Optional for [ApplePay, GooglePay]. N/A for other wallets.
 * @param {boolean} [request_payer_name] Used mainly for fraud purposes - recommended set to true. Optional for [Stripe]. N/A for other wallets.
 * @param {boolean} [request_payer_email] Used mainly for fraud purposes - recommended set to true. Optional for [Stripe]. N/A for other wallets.
 * @param {boolean} [request_payer_phone] Used mainly for fraud purposes - recommended set to true. Optional for [Stripe]. N/A for other wallets.
 * @param {boolean} [request_shipping] Used to request or not shipping address in the Wallet checkout, being able to handle amount changes via the `update` event. Optional for [FlyPay, PayPal, ApplePay, GooglePay]. N/A for [Stripe].
 * @param {IApplePayShippingOption[] | IPayPalShippingOption[]} [shipping_options] Used to provide available shipping options.(To use shipping_options the request_shipping flag should be true). Optional for [ApplePay]. N/A for the other wallets.
 * @param {string} [merchant_name] Merchant Name used for GooglePay integration via MPGS. Required for [GooglePay]. N/A for other wallets.
 * @param {object} [raw_data_initialization] Used to provide values to initialize wallet with raw data. Optional for [ApplePay]. N/A for the other wallets.
 * @param {object} [style] Used to style PayPal buttons, check possible values at https://developer.paypal.com/docs/business/checkout/reference/style-guide. Also used at ApplePay to select button type. Optional for [PayPal, ApplePay]. N/A for [Stripe, FlyPay].
 * @param {object} [style.button_type] Used to select ApplePay button type (e.g: 'buy','donate', etc), check possible values at https://developer.apple.com/documentation/apple_pay_on_the_web/displaying_apple_pay_buttons_using_css. Optional for [ApplePay]. N/A for other wallets.
 * @param {array} [wallets] By default if this is not sent or empty, we will try to show either Apple Pay or Google Pay buttons. This can be limited sending the following array in this field: ['apple','google]. Optional for [Stripe, ApplePay, GooglePay]. N/A for other wallets.
 */
/**
 * Interface of Shipping Options for ApplePay
 * @interface IApplePayShippingOption
 *
 * @type {object}
 * @param {string} [id] Identifier of the Shipping Option. Required.
 * @param {string} [label] Identifier of the Shipping Option. Required.
 * @param {string} [amount] Amount of the Shipping Option. Required.
 * @param {string} [detail] Details of the Shipping Option. Required.
 * @param {string} [type] Type of the Shipping Option. Values can be 'ELECTRONIC', 'GROUND', 'NOT_SHIPPED', 'OVERNIGHT', 'PICKUP', 'PRIORITY', 'SAME_DAY'. Optional.
 */
/**
 * Interface of Shipping Options for GooglePay
 * @interface IGooglePayShippingOption
 *
 * @type {object}
 * @param {string} [id] Identifier of the Shipping Option. Required.
 * @param {string} [label] Identifier of the Shipping Option. Required.
 * @param {string} [detail] Details of the Shipping Option. Optional.
 * @param {string} [type] Type of the Shipping Option. Values can be 'ELECTRONIC', 'GROUND', 'NOT_SHIPPED', 'OVERNIGHT', 'PICKUP', 'PRIORITY', 'SAME_DAY'. Optional.
 */
/**
 * Interface of Shipping Options for PayPal
 * @interface IPayPalShippingOption
 *
 * @type {object}
 * @param {string} [id] Identifier of the Shipping Option. Required.
 * @param {string} [label] Identifier of the Shipping Option. Required.
 * @param {string} [amount] Amount of the Shipping Option. Required.
 * @param {string} [currency] Currency of the Shipping Option. Required.
 * @param {string} [type] Type of the Shipping Option. Values can be 'SHIPPING' or 'PICKUP'. Required.
 */
/**
 * Class WalletButtons to work with different E-Wallets within html (currently supports Apple Pay, Google Payâ„¢ and Apple Pay via Stripe, Flypay, Paypal)
 * @constructor
 *
 * @example
 * var button = new WalletButtons('#wallet-buttons', 'charge-token', { amount_label: 'Total', country: 'us' });
 *
 * @param {string} selector - Selector of html element. Container for the WalletButtons.
 * @param {string} chargeToken - token for the wallet transaction, created with a secure call to `POST charges/wallet`.
 * @param {IWalletMeta} object - data that configures the E-Wallet, which can be shown on checkout page and configures required customer information.
 **/
export declare class WalletButtons {
    protected container: Container;
    protected api: ApiInternal;
    protected service: IWalletService;
    protected eventEmitter: EventEmitter;
    protected hasUpdateHandler: boolean;
    constructor(selector: string, chargeToken: string, meta: IWalletMeta);
    /**
     * Initializes the availability checks and inserts the button if possible.
     * Otherwise function onUnavailable(handler: VoidFunction) will be called.
     *
     * @example
     * var button = new WalletButtons(
     *      '#buttons',
     *      token,
     *      {
     *          amount_label: 'Total',
     *          country: 'DE',
     *      }
     *  );
     *  button.load();
     */
    load(): void;
    /**
     * Triggers the update process of the wallet, if available.
     * Currently supported by Flypay, Paypal and ApplePay/GooglePay via MPGS Wallets.
     *
     * @example
     * var button = new WalletButtons(
     *      '#buttons',
     *      token,
     *      {
     *          amount_label: 'Total',
     *          country: 'DE',
     *      }
     *  );
     *  button.on('update', (data) => {
     *      updateChargeAmountInBackend(data);
     *      button.update({ success: true });
     *  });
     *
     * @example
     * // ApplePay via MPGS example:
     * var button = new WalletButtons(
     *      '#buttons',
     *      token,
     *      {
     *          amount_label: 'Total',
     *          country: 'AU',
     *          ...
     *      }
     *  );
     *  button.on('update', (data) => {
     *      updateChargeAmountInBackend(data);
     *      button.update({
     *         success: true,
     *         body: {
     *              amount: 15,
     *              shipping_options: [
     *                   {
     *                      id: "NEW-FreeShip",
     *                       label: "NEW - Free Shipping",
     *                       detail: "Arrives in 3 to 5 days",
     *                       amount: "0.00"
     *                   },
     *                   {
     *                       id: "NEW - FastShip",
     *                       label: "NEW - Fast Shipping",
     *                       detail: "Arrives in less than 1 day",
     *                       amount: "10.00"
     *                   }
     *               ]
     *          }
     *       });
     *  });
     */
    update(data: IWalletUpdateData): void;
    /**
     * Current method can change environment. By default environment = sandbox.
     * Also we can change domain alias for this environment. By default domain_alias = paydock.com
     * Bear in mind that you must set an environment before calling `button.load()`.
     *
     * @example
     * button.setEnv('production', 'paydock.com');
     * @param {string} env - sandbox, production
     * @param {string} [alias] - Own domain alias
     */
    setEnv(env: string, alias?: string): void;
    /**
     * Closes the checkout forcibly. Currently supported in Flypay wallet.
     *
     * @example
     * button.close();
     */
    close(): void;
    on(eventName: string): Promise<IEventData>;
    on(eventName: string, cb: (data: IEventData) => void): any;
    /**
     * User to subscribe to the no button available event. This method is used after loading when the button is not available.
     * For MPGS, since can have more than one wallet button configured (ApplePay/GooglePay) you will receive a body (({ wallet: WALLET_TYPE.GOOGLE }) or ({ wallet: WALLET_TYPE.APPLE })) indicating which button is unavailable
     * Important: Do not perform thread blocking operations in callback such as window.alert() calls.
     *
     * @example
     * button.onUnavailable(() => {
     *      console.log('No wallet buttons available');
     * });
     *
     * @example
     * button.onUnavailable().then(() => console.log('No wallet buttons available'));
     *
     * @example
     * button.onUnavailable(function (data) {console.log('data.wallet :: ', data.wallet)});
     *
     * @param {listener} [handler] - Function to be called when no button is available.
     */
    onUnavailable(handler?: (data: IEventData) => void): Promise<void> | (() => void);
    /**
     * If the wallet performs some update in the checkout process, the function passed as parameter will be called.
     *
     * NOTE: make sure to call the `button.update(result)` method on handler completion.
     *
     * @example
     * button.onUpdate((data) => {
     *      button.update({ success: true });
     * });
     *
     * @example
     * button.onUpdate().then((data) => throw new Error());
     *
     * @param {listener} [handler] - Function to be called when the payment was successful.
     */
    onUpdate(handler?: (data: IEventData) => void): Promise<unknown> | (() => void);
    /**
     * If the payment was successful, the function passed as parameter will be called.
     * Important: Do not perform thread blocking operations in callback such as window.alert() calls.
     *
     * @example
     * button.onPaymentSuccessful((data) => {
     *      console.log('Payment successful!');
     * });
     *
     * @example
     * button.onPaymentSuccessful().then((data) => console.log('Payment successful!'));
     *
     * @param {listener} [handler] - Function to be called when the payment was successful.
     */
    onPaymentSuccessful(handler?: (data: IEventData) => void): Promise<unknown> | (() => void);
    /**
     * If the payment was left in fraud review, the function passed as parameter will be called.
     * Important: Do not perform thread blocking operations in callback such as window.alert() calls.
     *
     * @example
     * button.onPaymentInReview((data) => {
     *      console.log('Payment in fraud review');
     * });
     *
     * @example
     * button.onPaymentInReview().then((data) => console.log('Payment in fraud review'));
     *
     * @param {listener} [handler] - Function to be called when the payment was left in fraud review status.
     */
    onPaymentInReview(handler?: (err: IEventData) => void): Promise<unknown> | (() => void);
    /**
     * If the payment was not successful, the function passed as parameter will be called.
     * Important: Do not perform thread blocking operations in callback such as window.alert() calls.
     *
     * @example
     * button.onPaymentError((err) => {
     *      console.log('Payment not successful');
     * });
     *
     * @example
     * button.onPaymentError().then((err) => console.log('Payment not successful'));
     *
     * @param {listener} [handler] - Function to be called when the payment was not successful.
     */
    onPaymentError(handler?: (err: IEventData) => void): Promise<unknown> | (() => void);
    private setupServiceCallbacks;
    private setupUnavailableCallback;
    private setupUpdateCallback;
    private setupWalletCallback;
    private setupPaymentCallback;
    private setupPaymentSuccessCallback;
    private setupPaymentInReviewCallback;
    private setupPaymentErrorCallback;
}
