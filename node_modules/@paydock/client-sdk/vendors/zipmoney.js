!function e(t,n,r){function o(u,c){if(!n[u]){if(!t[u]){var a="function"==typeof require&&require;if(!c&&a)return a(u,!0);if(i)return i(u,!0);var s=new Error("Cannot find module '"+u+"'");throw s.code="MODULE_NOT_FOUND",s}var f=n[u]={exports:{}};t[u][0].call(f.exports,function(e){var n=t[u][1][e];return o(n||e)},f,f.exports,e,t,n,r)}return n[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===r||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function u(e){if(p===clearTimeout)return clearTimeout(e);if((p===o||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function c(){y&&h&&(y=!1,h.length?v=h.concat(v):m=-1,v.length&&a())}function a(){if(!y){var e=i(c);y=!0;for(var t=v.length;t;){for(h=v,v=[];++m<t;)h&&h[m].run();m=-1,t=v.length}h=null,y=!1,u(e)}}function s(e,t){this.fun=e,this.array=t}function f(){}var l,p,d=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:r}catch(e){l=r}try{p="function"==typeof clearTimeout?clearTimeout:o}catch(e){p=o}}();var h,v=[],y=!1,m=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];v.push(new s(e,t)),1!==v.length||y||i(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=f,d.addListener=f,d.once=f,d.off=f,d.removeListener=f,d.removeAllListeners=f,d.emit=f,d.prependListener=f,d.prependOnceListener=f,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}],2:[function(e,t,n){(function(e){!function(e){"use strict";if("function"==typeof bootstrap)bootstrap("promise",e);else if("object"==typeof n&&"object"==typeof t)t.exports=e();else if("function"==typeof define&&define.amd)define(e);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeQ=e}else{if("undefined"==typeof window&&"undefined"==typeof self)throw new Error("This environment was not anticipated by Q. Please file a bug.");var r="undefined"!=typeof window?window:self,o=r.Q;r.Q=e(),r.Q.noConflict=function(){return r.Q=o,this}}}(function(){"use strict";function t(e){return function(){return Z.apply(e,arguments)}}function n(e){return e===Object(e)}function r(e){return"[object StopIteration]"===ne(e)||e instanceof F}function o(e,t){if(N&&t.stack&&"object"==typeof e&&null!==e&&e.stack){for(var n=[],r=t;r;r=r.source)r.stack&&(!e.__minimumStackCounter__||e.__minimumStackCounter__>r.stackCounter)&&(K(e,"__minimumStackCounter__",{value:r.stackCounter,configurable:!0}),n.unshift(r.stack));n.unshift(e.stack);var o=n.join("\n"+re+"\n"),u=i(o);K(e,"stack",{value:u,configurable:!0})}}function i(e){for(var t=e.split("\n"),n=[],r=0;r<t.length;++r){var o=t[r];a(o)||u(o)||!o||n.push(o)}return n.join("\n")}function u(e){return-1!==e.indexOf("(module.js:")||-1!==e.indexOf("(node.js:")}function c(e){var t=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);if(t)return[t[1],Number(t[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(e);if(n)return[n[1],Number(n[2])];var r=/.*@(.+):(\d+)$/.exec(e);return r?[r[1],Number(r[2])]:void 0}function a(e){var t=c(e);if(!t)return!1;var n=t[0],r=t[1];return n===W&&r>=Q&&r<=se}function s(){if(N)try{throw new Error}catch(r){var e=r.stack.split("\n"),t=e[0].indexOf("@")>0?e[1]:e[2],n=c(t);if(!n)return;return W=n[0],n[1]}}function f(e){return e instanceof h?e:g(e)?O(e):j(e)}function l(){function e(e){t=e,f.longStackSupport&&N&&(i.source=e),$(n,function(t,n){f.nextTick(function(){e.promiseDispatch.apply(e,n)})},void 0),n=void 0,r=void 0}var t,n=[],r=[],o=Y(l.prototype),i=Y(h.prototype);if(i.promiseDispatch=function(e,o,i){var u=X(arguments);n?(n.push(u),"when"===o&&i[1]&&r.push(i[1])):f.nextTick(function(){t.promiseDispatch.apply(t,u)})},i.valueOf=function(){if(n)return i;var e=y(t);return m(e)&&(t=e),e},i.inspect=function(){return t?t.inspect():{state:"pending"}},f.longStackSupport&&N)try{throw new Error}catch(e){i.stack=e.stack.substring(e.stack.indexOf("\n")+1),i.stackCounter=oe++}return o.promise=i,o.resolve=function(n){t||e(f(n))},o.fulfill=function(n){t||e(j(n))},o.reject=function(n){t||e(T(n))},o.notify=function(e){t||$(r,function(t,n){f.nextTick(function(){n(e)})},void 0)},o}function p(e){if("function"!=typeof e)throw new TypeError("resolver must be a function.");var t=l();try{e(t.resolve,t.reject,t.notify)}catch(e){t.reject(e)}return t.promise}function d(e){return p(function(t,n){for(var r=0,o=e.length;r<o;r++)f(e[r]).then(t,n)})}function h(e,t,n){void 0===t&&(t=function(e){return T(new Error("Promise does not support operation: "+e))}),void 0===n&&(n=function(){return{state:"unknown"}});var r=Y(h.prototype);if(r.promiseDispatch=function(n,o,i){var u;try{u=e[o]?e[o].apply(r,i):t.call(r,o,i)}catch(e){u=T(e)}n&&n(u)},r.inspect=n,n){var o=n();"rejected"===o.state&&(r.exception=o.reason),r.valueOf=function(){var e=n();return"pending"===e.state||"rejected"===e.state?r:e.value}}return r}function v(e,t,n,r){return f(e).then(t,n,r)}function y(e){if(m(e)){var t=e.inspect();if("fulfilled"===t.state)return t.value}return e}function m(e){return e instanceof h}function g(e){return n(e)&&"function"==typeof e.then}function b(e){return m(e)&&"pending"===e.inspect().state}function w(e){return!m(e)||"fulfilled"===e.inspect().state}function k(e){return m(e)&&"rejected"===e.inspect().state}function E(){ie.length=0,ue.length=0,ae||(ae=!0)}function _(t,n){ae&&("object"==typeof e&&"function"==typeof e.emit&&f.nextTick.runAfter(function(){-1!==J(ue,t)&&(e.emit("unhandledRejection",n,t),ce.push(t))}),ue.push(t),n&&void 0!==n.stack?ie.push(n.stack):ie.push("(no stack) "+n))}function x(t){if(ae){var n=J(ue,t);-1!==n&&("object"==typeof e&&"function"==typeof e.emit&&f.nextTick.runAfter(function(){var r=J(ce,t);-1!==r&&(e.emit("rejectionHandled",ie[n],t),ce.splice(r,1))}),ue.splice(n,1),ie.splice(n,1))}}function T(e){var t=h({when:function(t){return t&&x(this),t?t(e):this}},function(){return this},function(){return{state:"rejected",reason:e}});return _(t,e),t}function j(e){return h({when:function(){return e},get:function(t){return e[t]},set:function(t,n){e[t]=n},delete:function(t){delete e[t]},post:function(t,n){return null===t||void 0===t?e.apply(void 0,n):e[t].apply(e,n)},apply:function(t,n){return e.apply(t,n)},keys:function(){return te(e)}},void 0,function(){return{state:"fulfilled",value:e}})}function O(e){var t=l();return f.nextTick(function(){try{e.then(t.resolve,t.reject,t.notify)}catch(e){t.reject(e)}}),t.promise}function C(e){return h({isDef:function(){}},function(t,n){return z(e,t,n)},function(){return f(e).inspect()})}function R(e,t,n){return f(e).spread(t,n)}function M(e){return function(){function t(e,t){var u;if("undefined"==typeof StopIteration){try{u=n[e](t)}catch(e){return T(e)}return u.done?f(u.value):v(u.value,o,i)}try{u=n[e](t)}catch(e){return r(e)?f(e.value):T(e)}return v(u,o,i)}var n=e.apply(this,arguments),o=t.bind(t,"next"),i=t.bind(t,"throw");return o()}}function S(e){f.done(f.async(e)())}function P(e){throw new F(e)}function L(e){return function(){return R([this,H(arguments)],function(t,n){return e.apply(t,n)})}}function z(e,t,n){return f(e).dispatch(t,n)}function H(e){return v(e,function(e){var t=0,n=l();return $(e,function(r,o,i){var u;m(o)&&"fulfilled"===(u=o.inspect()).state?e[i]=u.value:(++t,v(o,function(r){e[i]=r,0==--t&&n.resolve(e)},n.reject,function(e){n.notify({index:i,value:e})}))},void 0),0===t&&n.resolve(e),n.promise})}function U(e){if(0===e.length)return f.resolve();var t=f.defer(),n=0;return $(e,function(r,o,i){function u(e){t.resolve(e)}function c(e){0===--n&&(e.message="Q can't get fulfillment value from any promise, all promises were rejected. Last error message: "+e.message,t.reject(e))}function a(e){t.notify({index:i,value:e})}var s=e[i];n++,v(s,u,c,a)},void 0),t.promise}function A(e){return v(e,function(e){return e=V(e,f),v(H(V(e,function(e){return v(e,B,B)})),function(){return e})})}function I(e){return f(e).allSettled()}function q(e,t){return f(e).then(void 0,void 0,t)}function D(e,t){return f(e).nodeify(t)}var N=!1;try{throw new Error}catch(e){N=!!e.stack}var W,F,Q=s(),B=function(){},G=function(){function t(){for(var e,t;r.next;)r=r.next,e=r.task,r.task=void 0,t=r.domain,t&&(r.domain=void 0,t.enter()),n(e,t);for(;a.length;)e=a.pop(),n(e);i=!1}function n(e,n){try{e()}catch(e){if(c)throw n&&n.exit(),setTimeout(t,0),n&&n.enter(),e;setTimeout(function(){throw e},0)}n&&n.exit()}var r={task:void 0,next:null},o=r,i=!1,u=void 0,c=!1,a=[];if(G=function(t){o=o.next={task:t,domain:c&&e.domain,next:null},i||(i=!0,u())},"object"==typeof e&&"[object process]"===e.toString()&&e.nextTick)c=!0,u=function(){e.nextTick(t)};else if("function"==typeof setImmediate)u="undefined"!=typeof window?setImmediate.bind(window,t):function(){setImmediate(t)};else if("undefined"!=typeof MessageChannel){var s=new MessageChannel;s.port1.onmessage=function(){u=f,s.port1.onmessage=t,t()};var f=function(){s.port2.postMessage(0)};u=function(){setTimeout(t,0),f()}}else u=function(){setTimeout(t,0)};return G.runAfter=function(e){a.push(e),i||(i=!0,u())},G}(),Z=Function.call,X=t(Array.prototype.slice),$=t(Array.prototype.reduce||function(e,t){var n=0,r=this.length;if(1===arguments.length)for(;;){if(n in this){t=this[n++];break}if(++n>=r)throw new TypeError}for(;n<r;n++)n in this&&(t=e(t,this[n],n));return t}),J=t(Array.prototype.indexOf||function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t;return-1}),V=t(Array.prototype.map||function(e,t){var n=this,r=[];return $(n,function(o,i,u){r.push(e.call(t,i,u,n))},void 0),r}),Y=Object.create||function(e){function t(){}return t.prototype=e,new t},K=Object.defineProperty||function(e,t,n){return e[t]=n.value,e},ee=t(Object.prototype.hasOwnProperty),te=Object.keys||function(e){var t=[];for(var n in e)ee(e,n)&&t.push(n);return t},ne=t(Object.prototype.toString);F="undefined"!=typeof ReturnValue?ReturnValue:function(e){this.value=e};var re="From previous event:";f.resolve=f,f.nextTick=G,f.longStackSupport=!1;var oe=1;"object"==typeof e&&e&&e.env&&e.env.Q_DEBUG&&(f.longStackSupport=!0),f.defer=l,l.prototype.makeNodeResolver=function(){var e=this;return function(t,n){t?e.reject(t):arguments.length>2?e.resolve(X(arguments,1)):e.resolve(n)}},f.Promise=p,f.promise=p,p.race=d,p.all=H,p.reject=T,p.resolve=f,f.passByCopy=function(e){return e},h.prototype.passByCopy=function(){return this},f.join=function(e,t){return f(e).join(t)},h.prototype.join=function(e){return f([this,e]).spread(function(e,t){if(e===t)return e;throw new Error("Q can't join: not the same: "+e+" "+t)})},f.race=d,h.prototype.race=function(){return this.then(f.race)},f.makePromise=h,h.prototype.toString=function(){return"[object Promise]"},h.prototype.then=function(e,t,n){function r(t){try{return"function"==typeof e?e(t):t}catch(e){return T(e)}}function i(e){if("function"==typeof t){o(e,c);try{return t(e)}catch(e){return T(e)}}return T(e)}function u(e){return"function"==typeof n?n(e):e}var c=this,a=l(),s=!1;return f.nextTick(function(){c.promiseDispatch(function(e){s||(s=!0,a.resolve(r(e)))},"when",[function(e){s||(s=!0,a.resolve(i(e)))}])}),c.promiseDispatch(void 0,"when",[void 0,function(e){var t,n=!1;try{t=u(e)}catch(e){if(n=!0,!f.onerror)throw e;f.onerror(e)}n||a.notify(t)}]),a.promise},f.tap=function(e,t){return f(e).tap(t)},h.prototype.tap=function(e){return e=f(e),this.then(function(t){return e.fcall(t).thenResolve(t)})},f.when=v,h.prototype.thenResolve=function(e){return this.then(function(){return e})},f.thenResolve=function(e,t){return f(e).thenResolve(t)},h.prototype.thenReject=function(e){return this.then(function(){throw e})},f.thenReject=function(e,t){return f(e).thenReject(t)},f.nearer=y,f.isPromise=m,f.isPromiseAlike=g,f.isPending=b,h.prototype.isPending=function(){return"pending"===this.inspect().state},f.isFulfilled=w,h.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},f.isRejected=k,h.prototype.isRejected=function(){return"rejected"===this.inspect().state};var ie=[],ue=[],ce=[],ae=!0;f.resetUnhandledRejections=E,f.getUnhandledReasons=function(){return ie.slice()},f.stopUnhandledRejectionTracking=function(){E(),ae=!1},E(),f.reject=T,f.fulfill=j,f.master=C,f.spread=R,h.prototype.spread=function(e,t){return this.all().then(function(t){return e.apply(void 0,t)},t)},f.async=M,f.spawn=S,f.return=P,f.promised=L,f.dispatch=z,h.prototype.dispatch=function(e,t){var n=this,r=l();return f.nextTick(function(){n.promiseDispatch(r.resolve,e,t)}),r.promise},f.get=function(e,t){return f(e).dispatch("get",[t])},h.prototype.get=function(e){return this.dispatch("get",[e])},f.set=function(e,t,n){return f(e).dispatch("set",[t,n])},h.prototype.set=function(e,t){return this.dispatch("set",[e,t])},f.del=f.delete=function(e,t){return f(e).dispatch("delete",[t])},h.prototype.del=h.prototype.delete=function(e){return this.dispatch("delete",[e])},f.mapply=f.post=function(e,t,n){return f(e).dispatch("post",[t,n])},h.prototype.mapply=h.prototype.post=function(e,t){return this.dispatch("post",[e,t])},f.send=f.mcall=f.invoke=function(e,t){return f(e).dispatch("post",[t,X(arguments,2)])},h.prototype.send=h.prototype.mcall=h.prototype.invoke=function(e){return this.dispatch("post",[e,X(arguments,1)])},f.fapply=function(e,t){return f(e).dispatch("apply",[void 0,t])},h.prototype.fapply=function(e){return this.dispatch("apply",[void 0,e])},f.try=f.fcall=function(e){return f(e).dispatch("apply",[void 0,X(arguments,1)])},h.prototype.fcall=function(){return this.dispatch("apply",[void 0,X(arguments)])},f.fbind=function(e){var t=f(e),n=X(arguments,1);return function(){return t.dispatch("apply",[this,n.concat(X(arguments))])}},h.prototype.fbind=function(){var e=this,t=X(arguments);return function(){return e.dispatch("apply",[this,t.concat(X(arguments))])}},f.keys=function(e){return f(e).dispatch("keys",[])},h.prototype.keys=function(){return this.dispatch("keys",[])},f.all=H,h.prototype.all=function(){return H(this)},f.any=U,h.prototype.any=function(){return U(this)},f.allResolved=function(e,t,n){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t+" is deprecated, use "+n+" instead.",new Error("").stack),e.apply(e,arguments)}}(A,"allResolved","allSettled"),h.prototype.allResolved=function(){return A(this)},f.allSettled=I,h.prototype.allSettled=function(){return this.then(function(e){return H(V(e,function(e){function t(){return e.inspect()}return e=f(e),e.then(t,t)}))})},f.fail=f.catch=function(e,t){return f(e).then(void 0,t)},h.prototype.fail=h.prototype.catch=function(e){return this.then(void 0,e)},f.progress=q,h.prototype.progress=function(e){return this.then(void 0,void 0,e)},f.fin=f.finally=function(e,t){return f(e).finally(t)},h.prototype.fin=h.prototype.finally=function(e){if(!e||"function"!=typeof e.apply)throw new Error("Q can't apply finally callback");return e=f(e),this.then(function(t){return e.fcall().then(function(){return t})},function(t){return e.fcall().then(function(){throw t})})},f.done=function(e,t,n,r){return f(e).done(t,n,r)},h.prototype.done=function(t,n,r){var i=function(e){f.nextTick(function(){if(o(e,u),!f.onerror)throw e;f.onerror(e)})},u=t||n||r?this.then(t,n,r):this;"object"==typeof e&&e&&e.domain&&(i=e.domain.bind(i)),u.then(void 0,i)},f.timeout=function(e,t,n){return f(e).timeout(t,n)},h.prototype.timeout=function(e,t){var n=l(),r=setTimeout(function(){t&&"string"!=typeof t||(t=new Error(t||"Timed out after "+e+" ms"),t.code="ETIMEDOUT"),n.reject(t)},e);return this.then(function(e){clearTimeout(r),n.resolve(e)},function(e){clearTimeout(r),n.reject(e)},n.notify),n.promise},f.delay=function(e,t){return void 0===t&&(t=e,e=void 0),f(e).delay(t)},h.prototype.delay=function(e){return this.then(function(t){var n=l();return setTimeout(function(){n.resolve(t)},e),n.promise})},f.nfapply=function(e,t){return f(e).nfapply(t)},h.prototype.nfapply=function(e){var t=l(),n=X(e);return n.push(t.makeNodeResolver()),this.fapply(n).fail(t.reject),t.promise},f.nfcall=function(e){var t=X(arguments,1);return f(e).nfapply(t)},h.prototype.nfcall=function(){var e=X(arguments),t=l();return e.push(t.makeNodeResolver()),this.fapply(e).fail(t.reject),t.promise},f.nfbind=f.denodeify=function(e){if(void 0===e)throw new Error("Q can't wrap an undefined function");var t=X(arguments,1);return function(){var n=t.concat(X(arguments)),r=l();return n.push(r.makeNodeResolver()),f(e).fapply(n).fail(r.reject),r.promise}},h.prototype.nfbind=h.prototype.denodeify=function(){var e=X(arguments);return e.unshift(this),f.denodeify.apply(void 0,e)},f.nbind=function(e,t){var n=X(arguments,2);return function(){function r(){return e.apply(t,arguments)}var o=n.concat(X(arguments)),i=l();return o.push(i.makeNodeResolver()),f(r).fapply(o).fail(i.reject),i.promise}},h.prototype.nbind=function(){var e=X(arguments,0);return e.unshift(this),f.nbind.apply(void 0,e)},f.nmapply=f.npost=function(e,t,n){return f(e).npost(t,n)},h.prototype.nmapply=h.prototype.npost=function(e,t){var n=X(t||[]),r=l();return n.push(r.makeNodeResolver()),this.dispatch("post",[e,n]).fail(r.reject),r.promise},f.nsend=f.nmcall=f.ninvoke=function(e,t){var n=X(arguments,2),r=l();return n.push(r.makeNodeResolver()),f(e).dispatch("post",[t,n]).fail(r.reject),r.promise},h.prototype.nsend=h.prototype.nmcall=h.prototype.ninvoke=function(e){var t=X(arguments,1),n=l();return t.push(n.makeNodeResolver()),this.dispatch("post",[e,t]).fail(n.reject),n.promise},f.nodeify=D,h.prototype.nodeify=function(e){if(!e)return this;this.then(function(t){f.nextTick(function(){e(null,t)})},function(t){f.nextTick(function(){e(t)})})},f.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var se=s();return f})}).call(this,e("_process"))},{_process:1}],3:[function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,n,o){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map(function(o){var i=encodeURIComponent(r(o))+n;return Array.isArray(e[o])?e[o].map(function(e){return i+encodeURIComponent(r(e))}).join(t):i+encodeURIComponent(r(e[o]))}).join(t):o?encodeURIComponent(r(o))+n+encodeURIComponent(r(e)):""}},{}],4:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){var t=new s.default;t.onClose=e.onComplete.bind(e),t.build(),u(e,function(e){return t.setUri(e.redirectUri)},function(e){return t.close(!1)})}function u(e,t,n){return v.default.information("zip:checkout:init"),m.default.Promise(function(t,n){return e.onCheckout(t,n,{})}).then(function(r){var o=r.redirect_uri||r.redirectUri||r.data&&(r.data.redirect_uri||r.data.redirectUri);if(!o)return v.default.debug("zip:checkout:error","Response does not contain redirectUri property"),n(r),void e.onError({code:"checkout_error",message:"The response does not contain the redirectUri property",detail:r});v.default.debug("zip:checkout:success",r),t({redirectUri:o})}).catch(function(t){v.default.debug("zip:checkout:error",t),n(t),e.onError({code:"checkout_error",message:"Checkout response error",detail:t})})}Object.defineProperty(n,"__esModule",{value:!0}),n.Checkout=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e("./modal"),s=r(a),f=e("./options"),l=r(f),p=e("./utility"),d=r(p),h=e("./console"),v=r(h),y=(e("./events"),e("q")),m=r(y),g=function(){function e(){o(this,e)}return c(e,null,[{key:"init",value:function(e){if("function"!=typeof Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");e=Object(e);for(var t=1;t<arguments.length;t++){var n=arguments[t];if(null!=n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),e=Object.assign({},l.default,e),!this._validate(e))return v.default.setLevel(e.logLevel),e.redirect?u(e,function(t){return e.redirectFn(t.redirectUri)}):i(e)}},{key:"attachButton",value:function(e,t){var n=document.querySelectorAll(e);if(!n.length)return config.onError({code:"attach_error",message:"Cannot find button to attach zipMoney checkout"});for(var r=0;r<n.length;r++)d.default.addEventHandler(n[r],"click",function(){return Zip.Checkout.init(t)})}},{key:"_validate",value:function(e){return["error","information","debug"].indexOf(e.logLevel.toLowerCase())<0&&(e.logLevel="error"),["standard","express"].indexOf(e.request.toLowerCase())<0&&(e.request="standard"),e.onComplete=e.onComplete||function(){},e.onError=e.onError||function(){},e.checkoutUri||e.onCheckout!==l.default.onCheckout?"express"===e.request?e.onError({code:"not_implemented",message:"This feature is not yet implemented"}):e.redirect?void 0:e.onComplete!==l.default.onComplete||e.redirectUri?void 0:e.onError({code:"validation",message:"if onComplete function is not specified then redirectUri must be specified"}):e.onError({code:"validation",message:"if onCheckout function is not specified then checkoutUri must be specified"})}}]),e}();n.Checkout=g},{"./console":5,"./events":6,"./modal":8,"./options":9,"./utility":10,q:2}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r="error",o={error:function(){var e;(e=window.console).log.apply(e,arguments)},information:function(){if("error"!==r){var e;(e=window.console).log.apply(e,arguments)}},debug:function(){if("debug"===r){var e;(e=window.console).log.apply(e,arguments)}},setLevel:function(e){r=e}};n.default=o},{}],6:[function(e,t,n){(function(t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){var n=new t.CustomEvent("zipmoney",{detail:e});t.dispatchEvent(n)}function i(e){console.log("Unexpected Event",e)}Object.defineProperty(n,"__esModule",{value:!0}),n.EventListener=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=e("./utility");if(function(e){return e&&e.__esModule?e:{default:e}}(c).default.isIe){var a=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n};a.prototype=t.Event.prototype,t.CustomEvent=a}var s={},f=n.EventListener=function(){function e(){r(this,e)}return u(e,null,[{key:"constructor",value:function(){s={}}},{key:"on",value:function(e,t){s[e]=t}},{key:"off",value:function(e){s[e]=null}}]),e}();f.Event=function(e,t){this.eventType=e,this.data=t||{}},f.Event.eventTypes={resize:"resize",transition:"transition",close:"close",complete:"complete",clear:"clear"};var l=window.addEventListener?"addEventListener":"attachEvent",p=window[l];p("attachEvent"==l?"onmessage":"message",function(e){e.data.zipmoney&&o(e.data.msg)},!1),p("zipmoney",function(e){var t=e.detail.eventType,n=s[t];n?n(e.detail.data||{}):i(e)},!1)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./utility":10}],7:[function(e,t,n){(function(t){"use strict";var n=e("./checkout"),r=e("./events");t.Zip=t.Zip||{},t.Zip.Checkout=n.Checkout,t.zipMoneyEvent=r.EventListener.ZipEvent}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./checkout":4,"./events":6}],8:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){return Math.max(document.documentElement.clientHeight,window.innerHeight||0)}function u(){var e=document.body,t=document.documentElement;return Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)}function c(e,t){var n=document.createElement("div");return n.className="zipmoney-overlay",Object.assign(n.style,{position:"absolute",left:"0",top:"0",display:"table-cell",textAlign:"center",verticalAlign:"middle",background:"rgba(0, 0, 0, 0.75)",zIndex:"10000",height:"100%",width:"100%"}),n}function a(e,t){var n=document.createElement("iframe");return n.id="zipmoney-iframe",n.frameborder=0,Object.assign(n.style,{padding:"0",border:"none",zIndex:"999999",backgroundColor:"#FFF",backgroundImage:"url("+k+"spinner.gif)",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%"}),t?Object.assign(n.style,{overflow:"scroll",width:"100%",height:"100%",position:"absolute",top:"0",bottom:"0",left:"0",right:"0",margin:"0"}):Object.assign(n.style,{width:b.iframeWidth+"px",minWidth:b.iframeMinWidth+"px",height:b.iframeInitialHeight+"px",margin:b.verticalMargin+"px auto 0 auto",display:"table-row",backgroundSize:"25%",textAlign:"center",boxShadow:"0px 0px 70px 0px rgb(0, 0, 0)"}),n.src=e||"",n}function s(){var e=document.createElement("img");return e.src=k+"icon-close.png",Object.assign(e.style,{width:"50px",height:"50px",position:"absolute",top:"20px",right:"20px",cursor:"pointer"}),e}function f(){var e=document.createElement("div");e.style.width=b.iframeWidth+"px",e.style.minWidth=b.iframeMinWidth+"px",e.style.margin="10px auto 0 auto",e.style.overflow="hidden";var t=document.createElement("img");t.src=k+"iframe-secure.png",t.style.cssFloat="left";var n=document.createElement("img");return n.src=k+"poweredby-trans.png",n.style.cssFloat="right",e.appendChild(t),e.appendChild(n),e}function l(e){for(var t=document.querySelectorAll("html, body"),n=0;n<t.length;n++)t[n].style.overflowY=e}function p(e){var t=document.body.currentStyle||window.getComputedStyle(document.body),n=document.body.offsetHeight,r=parseInt(t.marginTop,10)+parseInt(t.marginBottom,10),o=n+r,i=o-parseInt(t.height,10),u=e-i;document.body.style.height=u+"px"}function d(e){document.body.style.height="initial"}Object.defineProperty(n,"__esModule",{value:!0});var h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=e("./utility"),y=r(v),m=e("./events"),g=e("./console"),b=(r(g),{iframeWidth:400,iframeMinWidth:320,iframeInitialHeight:704,iframeMinHeight:600,verticalMargin:35}),w=["resize","transition","close","complete","clear"],k="https://d3k1w8lx8mqizo.cloudfront.net/zm/",E=function(){function e(){var t=this;o(this,e),this._events=[],this._isMobile=y.default.isMobileDevice(),w.forEach(function(e){return m.EventListener.on(m.EventListener.Event.eventTypes[e],t[e].bind(t))})}return h(e,[{key:"build",value:function(){this._initialHtmlHeight=u(),window.scrollTo(0,0);var e=this._frame=a(this._frameUri,this._isMobile);if(!this._isMobile){var t=s();t.onclick=this.close.bind(this),this._overlay=c(),this._overlay.appendChild(t),this._overlay.appendChild(this._frame),this._overlay.appendChild(f()),e=this._overlay}document.body.appendChild(e),this._isMobile&&p(this._frame.offsetHeight),l("auto"),this._startMonitoringWindowResize()}},{key:"setUri",value:function(e){this._frameUri=e,this._frame&&(this._frame.src=e)}},{key:"resize",value:function(e){var t=this._isMobile?16:0,e=e>=b.iframeMinHeight?e:b.iframeMinHeight;e+=t;var n=e+2*b.verticalMargin,r=i();this._frame.style.height=e+"px",this._overlay&&(this._overlay.style.height=Math.max(r,this._initialHtmlHeight,n)+"px"),this._isMobile&&p(e)}},{key:"transition",value:function(){window.scroll(0,0)}},{key:"close",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={state:"cancelled"};this._events.length&&(t=this._events.pop()),this._destroy(),this.onClose&&e&&this.onClose(t)}},{key:"complete",value:function(e){this._events.push(e)}},{key:"clear",value:function(e){this._events=[]}},{key:"_startMonitoringWindowResize",value:function(){function e(e){var t=i(),n=u(),r=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;e._overlay&&(e._overlay.style.height=Math.max(t,n)+"px"),e._isMobile||r<b.iframeWidth?e._frame.style.width="100%":e._frame.style.width=b.iframeWidth+"px"}var t=this;this._resizeHandler=y.default.debounce(function(){return e(t)},250),y.default.addEventHandler(window,"resize",this._resizeHandler)}},{key:"_stopMonitoringWindowResize",value:function(){y.default.removeEventHandler(window,"resize",this._resizeHandler)}},{key:"_destroy",value:function(){this._stopMonitoringWindowResize(),this._overlay?document.body.removeChild(this._overlay):document.body.removeChild(this._frame),this._isMobile&&d(),l("initial"),this._overlay=this._frame=null,w.forEach(function(e){return m.EventListener.off(m.EventListener.Event.eventTypes[e])})}}]),e}();n.default=E},{"./console":5,"./events":6,"./utility":10}],9:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e("./xr"),i=r(o),u=e("./console"),c=r(u);i.default.configure({headers:{"X-Requested-With":"XMLHttpRequest"}});var a={request:"standard",redirect:!1,logLevel:"Error",onCheckout:function(e,t,n){i.default.post(this.checkoutUri).then(function(t){return e(t.data)}).catch(t)},onShippingAddressChanged:function(e,t,n){i.default.post(this.shippingUri).then(e).catch(t)},onComplete:function(e){if(c.default.information("zip:completed",e),"cancelled"!==e.state){var t=e.checkoutId?"&checkoutId="+e.checkoutId:"";this.redirectFn(this.redirectUri+"?result="+e.state+t)}},onError:function(e){c.default.error(e)},redirectFn:function(e){window.location.href=e}};n.default=a},{"./console":5,"./xr":11}],10:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){r(this,e)}return o(e,null,[{key:"isIe",value:function(){var e=-1,t=window.navigator.userAgent,n=t.indexOf("MSIE "),r=t.indexOf("Trident/");if(n>0)e=parseInt(t.substring(n+5,t.indexOf(".",n)),10);else if(r>0){var o=t.indexOf("rv:");e=parseInt(t.substring(o+3,t.indexOf(".",o)),10)}return e>-1?e:void 0}},{key:"isMobileDevice",value:function(){var e=navigator.userAgent||navigator.vendor||window.opera
;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}},{key:"debounce",value:function(e,t){var n;return function(){var r=this,o=arguments,i=function(){n=null,e.apply(r,o)},u=!n;clearTimeout(n),n=setTimeout(i,t),u&&e.apply(r,o)}}},{key:"addEventHandler",value:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)}},{key:"removeEventHandler",value:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)}}]),e}();n.default=i},{}],11:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return{status:e.status,response:e.response,data:t,xhr:e}}function i(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var o in n)if({}.hasOwnProperty.call(n,o)){var i=n[o];if("object"===(void 0===i?"undefined":s(i)))for(var u in i)({}).hasOwnProperty.call(i,u)&&(e[u]=i[u])}return e}function u(e){m=i({},m,e)}function c(e,t){return(e&&e.promise?e.promise:m.promise||y.promise)(t)}function a(e){return c(e,function(t,n){var r=i({},y,m,e),u=r.xmlHttpRequest();r.abort&&e.abort(function(){n(o(u)),u.abort()}),u.open(r.method,r.params?r.url.split("?")[0]+"?"+(0,l.default)(r.params):r.url,!0),u.withCredentials=r.withCredentials,u.addEventListener(v.LOAD,function(){if(u.status>=200&&u.status<300){var e=null;u.responseText&&(e=!0===r.raw?u.responseText:r.load(u.responseText)),t(o(u,e))}else n(o(u))}),u.addEventListener(v.ABORT,function(){return n(o(u))}),u.addEventListener(v.ERROR,function(){return n(o(u))}),u.addEventListener(v.TIMEOUT,function(){return n(o(u))});for(var c in r.headers)({}).hasOwnProperty.call(r.headers,c)&&u.setRequestHeader(c,r.headers[c]);for(var a in r.events)({}).hasOwnProperty.call(r.events,a)&&u.addEventListener(a,r.events[a].bind(null,u),!1);var f="object"!==s(r.data)||r.raw?r.data:r.dump(r.data);void 0!==f?u.send(f):u.send()})}Object.defineProperty(n,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=e("querystring/encode"),l=r(f),p=e("q"),d=r(p),h={GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE",PATCH:"PATCH",OPTIONS:"OPTIONS"},v={READY_STATE_CHANGE:"readystatechange",LOAD_START:"loadstart",PROGRESS:"progress",ABORT:"abort",ERROR:"error",LOAD:"load",TIMEOUT:"timeout",LOAD_END:"loadend"},y={method:h.GET,data:void 0,headers:{Accept:"application/json","Content-Type":"application/json"},dump:JSON.stringify,load:JSON.parse,xmlHttpRequest:function(){return new XMLHttpRequest},promise:function(e){return d.default.Promise(e)},withCredentials:!1},m={};a.assign=i,a.encode=l.default,a.configure=u,a.Methods=h,a.Events=v,a.defaults=y,a.get=function(e,t,n){return a(i({url:e,method:h.GET,params:t},n))},a.put=function(e,t,n){return a(i({url:e,method:h.PUT,data:t},n))},a.post=function(e,t,n){return a(i({url:e,method:h.POST,data:t},n))},a.patch=function(e,t,n){return a(i({url:e,method:h.PATCH,data:t},n))},a.del=function(e,t){return a(i({url:e,method:h.DELETE},t))},a.options=function(e,t){return a(i({url:e,method:h.OPTIONS},t))},n.default=a},{q:2,"querystring/encode":3}]},{},[7]);